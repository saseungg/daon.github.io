{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/image-style/","result":{"data":{"site":{"siteMetadata":{"title":"DAONLOG","author":"saseungg","siteUrl":"https://saseungg.github.io","comment":{"utterances":"saseungg/saseungg.github.io"}}},"markdownRemark":{"id":"12cc8724-f65e-5eeb-993a-efa29e51b6e2","excerpt":"개인 블로그를 만들면서 가장 하고 싶었던 건 첨부하는 이미지의 스타일을 입히는 거였다. 이미지에 스타일을 주느냐 안주느냐에 따라 느낌이 확 달라진다.\n그림을 예시를 두고 차이를 비교해보자. 왼쪽은 원본 이미지 그대로 붙여넣었고 오른쪽은 이미지에 radius와 border…","html":"<p>개인 블로그를 만들면서 가장 하고 싶었던 건 첨부하는 이미지의 스타일을 입히는 거였다. 이미지에 스타일을 주느냐 안주느냐에 따라 느낌이 확 달라진다.\n그림을 예시를 두고 차이를 비교해보자.</p>\n<p>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 500px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe1qwA//xAAYEAEAAwEAAAAAAAAAAAAAAAABABARIf/aAAgBAQABBQJcXkHS/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAEAAwAAAAAAAAAAAAAAAAARECAx/9oACAEBAAY/AsYQp//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQVH/2gAIAQEAAT8hcA2R0uVKyclsV5M+z//aAAwDAQACAAMAAAAQsA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFxgf/aAAgBAQABPxDVuA06X3LQAt0C1GaELtyTQ3PIF0HpBfIfk//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"이미지 예시\" title=\"이미지 예시\" src=\"/static/f609dbc2b3a9a273651fefcadf2fbf7a/41099/border-example.jpg\" srcset=\"/static/f609dbc2b3a9a273651fefcadf2fbf7a/aa2ed/border-example.jpg 125w,\n/static/f609dbc2b3a9a273651fefcadf2fbf7a/0479a/border-example.jpg 250w,\n/static/f609dbc2b3a9a273651fefcadf2fbf7a/41099/border-example.jpg 500w,\n/static/f609dbc2b3a9a273651fefcadf2fbf7a/acb04/border-example.jpg 750w,\n/static/f609dbc2b3a9a273651fefcadf2fbf7a/5d472/border-example.jpg 930w\" sizes=\"(max-width: 500px) 100vw, 500px\" loading=\"lazy\">\n    </span>\n</p>\n<p>왼쪽은 원본 이미지 그대로 붙여넣었고 오른쪽은 이미지에 radius와 border를 적용한 모습이다. 딱 봤을 때 오른쪽이 훨씬 깔끔하고 보기 편하다. 또한 블로그에 들어가는 모든 이미지들에게 통일성을 준다면 전체적인 스타일과 가독성도 올라간다.</p>\n<p>이미지 스타일을 주기 위해 개츠비에 스타일을 적용하기 위한 방법을 찾아봤다.</p>\n<h2 id=\"삽질의-과정들\" style=\"position:relative;\"><a href=\"#%EC%82%BD%EC%A7%88%EC%9D%98-%EA%B3%BC%EC%A0%95%EB%93%A4\" aria-label=\"삽질의 과정들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>삽질의 과정들</h2>\n<p>먼저 다양한 블로그들을 확인해봤다. 스타일이 있는 이미지들을 확인해보면 대부분 원본 이미지 자체에서 스타일을 넣은 상태로 png 형식으로 이미지를 첨부한 것을 확인할 수 있었다.</p>\n<p>맥북에서는 스크린 캡쳐(cmd+shigt+4+spacebar)를 하면 자동으로 radius와 그림자가 들어가지만 전체 화면을 캡쳐해야만 적용됐기에 피그마에서 이미지 스타일을 적용한 후 png 파일로 넣어줬다.</p>\n<p>개츠비에서 마크다운으로 이미지를 넣는 방법은 두가지이다. 마크다운 이미지 첨부 방식으로 넣는 방법과 HTML형식으로 넣는 방법.</p>\n<p>이미지를 첨부하면 png 파일이 제대로 들어간다. 마크다운은 원래 사이즈 조절이 되지만 개츠비는 이미지를 webp형식으로 변환 후 url을 백그라운드로 넣기 때문에 width 값을 조절할 수 없다.</p>\n<p>확인을 위해 아래와 같은 방법으로 테스트를 해보았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 마크다운</span>\n<span class=\"token operator\">!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>images<span class=\"token operator\">/</span>design<span class=\"token operator\">-</span>system<span class=\"token operator\">/</span>text<span class=\"token punctuation\">.</span>png<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// img 태그</span>\n<span class=\"token operator\">&lt;</span>img src<span class=\"token operator\">=</span><span class=\"token string\">\"./images/design-system/text.png\"</span> width<span class=\"token operator\">=</span><span class=\"token string\">\"300px\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n<span class=\"token comment\">// url로 변환한 이미지를 첨부</span>\n<span class=\"token operator\">&lt;</span>img src<span class=\"token operator\">=</span><span class=\"token string\">\"https://github.com/saseungg/saseungg.github.io/assets/115215178/54b6ad74-82e7-4050-b197-33e42e79f100\"</span> width<span class=\"token operator\">=</span><span class=\"token string\">\"300px\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>\n  <img alt=\"example\" src=\"/066fc2d3c39ca988da133169a4a9b2d4/image-size example.gif\">\n</p>\n<p>로컬에 있는 이미지가 잘들어가긴 하지만 너비 조절이 되지 않고 png 형식이 바로 적용되지 않고 새로고침해야 적용되는 것을 볼 수 있다.</p>\n<p>url로 변환한 이미지는 width 조절이 되지만 한가지 문제점이 있었다.</p>\n<p>\n  <img alt=\"example\" src=\"/7155c65a84d1047ad26a77241e1412ae/image-zoom.gif\">\n</p>\n<p>적용한 플러그인 중에 gatsyb-image-zoom 이라는 플러그인을 사용 중인데 이 플러그인은 이미지를 클릭했을 때 모달형식으로 줌 한 이미지를 볼 수 있다.</p>\n<p>url로 변환한 이미지에는 이미지를 확대할 수 없었다.</p>\n<p>따라서 url도 img 태그를 사용하는 것도 해결책이 되지 않았다. 구글링을 하던 중 개츠비 repo에 이슈를 발견했다.</p>\n<p>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 109.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHtW0xRIC0D/8QAGhAAAgIDAAAAAAAAAAAAAAAAABABESExQf/aAAgBAQABBQKjBR1Ttf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABYQAQEBAAAAAAAAAAAAAAAAACEQIP/aAAgBAQAGPwJ2T//EABoQAAMBAAMAAAAAAAAAAAAAAAABEVEQcYH/2gAIAQEAAT8hS6vYlgmjgucKI5GnglEf/9oADAMBAAIAAwAAABALEDz/xAAWEQADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8QI//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/ECCLs0EFWHc25amm1t1gCULfZTMUPUs9gWV5ixEuVbZGoW/lT//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"이슈\" title=\"이슈\" src=\"/static/26010984e6a096e5b41049aee97d2479/29d31/issue.jpg\" srcset=\"/static/26010984e6a096e5b41049aee97d2479/e52aa/issue.jpg 175w,\n/static/26010984e6a096e5b41049aee97d2479/70ebb/issue.jpg 350w,\n/static/26010984e6a096e5b41049aee97d2479/29d31/issue.jpg 700w,\n/static/26010984e6a096e5b41049aee97d2479/9ecec/issue.jpg 1050w,\n/static/26010984e6a096e5b41049aee97d2479/d165a/issue.jpg 1400w,\n/static/26010984e6a096e5b41049aee97d2479/9a46a/issue.jpg 1592w\" sizes=\"(max-width: 700px) 100vw, 700px\" loading=\"lazy\">\n    </span>\n</p>\n<p>width 값을 조정할 수 있는 플러그인을 누가 만들었다!! 얄루!</p>\n<p>기존에 있던 gatsby-remark-image를 삭제하고 해당 플러그인을 다운 받아서 적용해보자!</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> @bonobolabs/gatsby-remark-images-custom-widths</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token string\">'@bonobolabs/gatsby-remark-images-custom-widths'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">maxWidth</span><span class=\"token operator\">:</span> <span class=\"token number\">700</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">linkImagesToOriginal</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ... 기타 플러그인</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>border와 raidus는 이미지 태그에 스타일을 추가로 덮어씌우는 걸 선택했다. remark-images 플러그인에 border와 radius를 options로 넣을 수 있으면 좋겠지만 할 수 없으니 태그에 스타일을 오버라이딩하는 방법을 선택했다. 처음부터 이미지 width값도 태그에 스타일을 지정하지 않은 이유는 이미지마다 내가 지정하고 싶은 width값이 전부 다르기 때문에 태그 자체에 고정된 width 값을 설정할 수 없었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">img <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">border</span><span class=\"token operator\">:</span> 1px solid #e0e0e0<span class=\"token punctuation\">;</span>\n  border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>6em<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">styles/post.scss</code> 파일에 아래와 같이 스타일을 적용해주었다.</p>\n<p>현재 해당 블로그 스타일처럼 이미지에 스타일이 제대로 들어가는 것을 확인할 수 있다.</p>\n<h2 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h2>\n<ul>\n<li><a href=\"https://www.gatsbyjs.com/plugins/@bonobolabs/gatsby-remark-images-custom-widths/\">@bonobolabs/gatsby-remark-images-custom-widths | Gatsby</a></li>\n<li><a href=\"https://snyk.io/advisor/npm-package/@bonobolabs/gatsby-remark-images-custom-widths?utm_medium=referral&#x26;utm_source=skypack&#x26;utm_campaign=snyk-widget\">@bonobolabs/gatsby-remark-images-custom-widths - npm package | Snyk</a></li>\n<li><a href=\"https://github.com/gatsbyjs/gatsby/issues/19439\">Allow specifying image width via attribute in gatsby-remark-images · Issue #19439 · gatsbyjs/gatsby</a></li>\n<li><a href=\"https://github.com/rbeer/gatsby-remark-image-attributes/issues/1\">Not working with gatsby · Issue #1 · rbeer/gatsby-remark-image-attributes</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49857731/gatsbyjs-how-to-implement-advanced-image-styling-with-gatsby-remark-images-and\">Gatsbyjs: how to implement advanced image styling with gatsby-remark-images and markdown? - Stack Overflow</a></li>\n</ul>","frontmatter":{"title":"📐 개츠비 이미지 width값 조정","date":"November 06, 2023"}}},"pageContext":{"slug":"/blog/image-style/","previous":{"fields":{"slug":"/tip/github-action/"},"frontmatter":{"title":"🤖 Github Actions을 통한 배포 자동화"}},"next":null}},"staticQueryHashes":["3128451518","3958338973"]}